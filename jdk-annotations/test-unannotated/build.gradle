plugins {
    id "java-library"
}

dependencies {
    compileOnly deps.apt.autoService
    annotationProcessor deps.apt.autoService
    compileOnly project(":nullaway")
    api deps.build.jspecify
    implementation project(":jdk-annotations:test-annotated")
}

def astubxPath = "${rootProject.projectDir}/jdk-annotations/test-annotated/build/generated/astubx/output.astubx"

jar {
    dependsOn(project(':jdk-annotations:test-annotated').tasks.named('generateAstubx'))
    from(astubxPath) {
        into "com/uber/nullaway/jdkannotations/provider"
    }
}
